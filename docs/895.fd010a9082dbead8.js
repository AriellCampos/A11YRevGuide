"use strict";(self.webpackChunkUXRIVIS=self.webpackChunkUXRIVIS||[]).push([[895],{5895:(Le,U,s)=>{s.r(U),s.d(U,{UxMapperModule:()=>Ye});var l=s(9808),p=s(3075),j=s(5071),X=s(5260),b=s(5089),P=s(655),w=s(131),N=s(7579),T=s(2722),R=s(8505),J=s(2324),A=s(8325),I=s(640),y=s(1182),t=s(5e3),G=s(9038);function W(o,i){if(1&o&&(t.O4$(),t.TgZ(0,"svg",2),t._UZ(1,"polygon",3),t.qZA()),2&o){const e=i.$implicit,n=i.index,a=t.oxw();t.Tol(a.getStarStatus(e)),t.MGl("id","star",n+1,"")}}let D=(()=>{class o{constructor(){this.ratingValue=0,this.isCurveStyle=!0,this.arrayStar=[1,2,3,4,5]}getStarStatus(e){return this.ratingValue-e+1>=.5?"active":"inactive"}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-star-rating"]],inputs:{ratingValue:"ratingValue",isCurveStyle:"isCurveStyle"},decls:2,vars:2,consts:[[3,"ngClass"],["version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 473.486 473.486",3,"class","id",4,"ngFor","ngForOf"],["version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 473.486 473.486",3,"id"],["points","473.486,182.079 310.615,157.952 235.904,11.23 162.628,158.675 0,184.389 117.584,299.641 91.786,462.257\n    237.732,386.042 384.416,460.829 357.032,298.473"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.YNc(1,W,2,4,"svg",1),t.qZA()),2&e&&(t.Q6J("ngClass",n.isCurveStyle?"star-rating curve":"star-rating"),t.xp6(1),t.Q6J("ngForOf",n.arrayStar))},directives:[l.mk,l.sg],styles:[".star-rating[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{position:relative;width:.875rem;margin:0 .125rem}.star-rating[_ngcontent-%COMP%]   svg.active[_ngcontent-%COMP%]{fill:#fdd835}.star-rating[_ngcontent-%COMP%]   svg.inactive[_ngcontent-%COMP%]{fill:#cbcbcb}.star-rating.curve[_ngcontent-%COMP%]   #star1[_ngcontent-%COMP%]{top:15px;right:-4px;transform:rotate(-45deg)}.star-rating.curve[_ngcontent-%COMP%]   #star2[_ngcontent-%COMP%]{top:4px;transform:rotate(-25deg)}.star-rating.curve[_ngcontent-%COMP%]   #star4[_ngcontent-%COMP%]{top:4px;transform:rotate(25deg)}.star-rating.curve[_ngcontent-%COMP%]   #star5[_ngcontent-%COMP%]{top:14px;right:4px;transform:rotate(45deg)}"]}),o})(),K=(()=>{class o{constructor(){}ngOnInit(){const e=this.calcPercentageBasedOnScore(this.resultInformationData.score);this.startLoadingProgressBar(e)}calcPercentageBasedOnScore(e){return 100*e/5}startLoadingProgressBar(e){let n=document.querySelector(".result-information"),a=0,r=e;const d=setInterval(()=>{a++,n.style.background=`radial-gradient(white 57.6%, transparent 0%), conic-gradient(#004E8C ${3.6*a}deg, #E0E0E0 0deg)`,a==r&&clearInterval(d)},10)}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["result-information"]],inputs:{resultInformationData:"resultInformationData"},decls:7,vars:4,consts:[[1,"result-information"],[1,"result-information__values"],[1,"score"],[3,"ratingValue","isCurveStyle"],[1,"number-reviews"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"span",2),t._uU(3),t.qZA(),t._UZ(4,"app-star-rating",3),t.TgZ(5,"p",4),t._uU(6),t.qZA()()()),2&e&&(t.xp6(3),t.Oqu(n.resultInformationData.score),t.xp6(1),t.Q6J("ratingValue",n.resultInformationData.score)("isCurveStyle",!1),t.xp6(2),t.hij("",n.resultInformationData.numberReviews," reviews"))},directives:[D],styles:['.result-information[_ngcontent-%COMP%]{position:relative;width:220px;height:220px;border-radius:100%;box-shadow:0 2px 1rem #0006;display:flex;align-items:center;justify-content:center}.result-information[_ngcontent-%COMP%]:before{content:"";position:absolute;width:180px;height:180px;border-radius:100%;background-color:#0009}.result-information__values[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);display:flex;flex-direction:column;align-items:center}.result-information__values[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]{padding:.25em .5em;color:#fff;border-radius:.25em;font-size:2.625rem;line-height:1.25rem}.result-information__values[_ngcontent-%COMP%]   .number-reviews[_ngcontent-%COMP%]{color:#fff;border-radius:.25em;font-size:1rem;font-weight:500;line-height:1.5rem;margin:0}'],changeDetection:0}),o})();var Z=s(3001);const tt=["factor"];let et=(()=>{class o{constructor(){this.clickedOnFactorEvent=new t.vpe}ngOnInit(){}clickedOnFactor(){this.clickedOnFactorEvent.emit(this.factorData)}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["factor-item"]],viewQuery:function(e,n){if(1&e&&t.Gf(tt,5),2&e){let a;t.iGM(a=t.CRH())&&(n.factorItem=a.first)}},inputs:{factorData:"factorData",styleClassContent:"styleClassContent"},outputs:{clickedOnFactorEvent:"clickedOnFactorEvent"},decls:4,vars:4,consts:[["scrollTo","",1,"factor-item",3,"id","children","click"],["factor",""],[3,"ngClass"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0,1),t.NdJ("click",function(r){return n.clickedOnFactor(),r.stopPropagation()}),t.TgZ(2,"p",2),t._uU(3),t.qZA()()),2&e&&(t.s9C("id",null==n.factorData?null:n.factorData.id),t.Q6J("children",n.factorItem),t.xp6(2),t.Q6J("ngClass",n.styleClassContent),t.xp6(1),t.Oqu(null==n.factorData?null:n.factorData.name))},directives:[Z.A,l.mk],styles:[".factor-item[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;padding:1.5rem;min-width:180px;z-index:1;color:#0070b2;text-align:center;font-size:12px;font-weight:500}.factor-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{cursor:pointer;width:100%;padding:.5rem;margin:0;border:2px solid #0070B2;border-radius:30px;background-color:#d6eaf7}.factor-item[_ngcontent-%COMP%]   p.active[_ngcontent-%COMP%], .factor-item[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{color:#f0f0f0;border:2px solid #D6EAF7;border-radius:30px;background-color:#0070b2}"]}),o})();const nt=["arrowResult"];function ot(o,i){1&o&&(t.ynx(0),t._UZ(1,"span",5),t.BQk())}function it(o,i){1&o&&t._UZ(0,"span",6)}function at(o,i){1&o&&t.YNc(0,it,1,0,"ng-template")}const rt=["*"];let ct=(()=>{class o{constructor(){this.arrowHeadRight=!0,this.arrowHeadLeft=!1}ngOnInit(){}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["arrow-result"]],viewQuery:function(e,n){if(1&e&&t.Gf(nt,5),2&e){let a;t.iGM(a=t.CRH())&&(n.arrowItem=a.first)}},inputs:{styleContent:"styleContent",styleContentResult:"styleContentResult",arrowHeadRight:"arrowHeadRight",arrowHeadLeft:"arrowHeadLeft"},ngContentSelectors:rt,decls:7,vars:5,consts:[["scrollTo","",1,"arrow-result",3,"ngStyle","children"],["arrowResult",""],[1,"arrow"],[4,"ngIf"],[1,"arrow-result__value",3,"ngStyle"],[1,"arrowhead-right"],[1,"arrowhead-left"]],template:function(e,n){1&e&&(t.F$t(),t.TgZ(0,"div",0,1)(2,"div",2),t.YNc(3,ot,2,0,"ng-container",3),t.YNc(4,at,1,0,null,3),t.qZA(),t.TgZ(5,"span",4),t.Hsn(6),t.qZA()()),2&e&&(t.Q6J("ngStyle",n.styleContent)("children",n.arrowItem),t.xp6(3),t.Q6J("ngIf",n.arrowHeadRight),t.xp6(1),t.Q6J("ngIf",n.arrowHeadLeft),t.xp6(1),t.Q6J("ngStyle",n.styleContentResult))},directives:[Z.A,l.PC,l.O5],styles:['@charset "UTF-8";.arrow-result[_ngcontent-%COMP%]{position:absolute;width:342px}.arrow-result[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{width:auto;border-top:.125rem solid #0070B2}.arrow-result[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]   .arrowhead-right[_ngcontent-%COMP%], .arrow-result[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]   .arrowhead-left[_ngcontent-%COMP%]{width:14px;height:14px;box-shadow:-2px 2px #0070b2;box-sizing:border-box;position:absolute;top:-6px}.arrow-result[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]   .arrowhead-right[_ngcontent-%COMP%]{transform:rotate(-135deg);right:3px}.arrow-result[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]   .arrowhead-left[_ngcontent-%COMP%]{transform:rotate(45deg);left:3px}.arrow-result__value[_ngcontent-%COMP%]{min-width:6.25rem;border-radius:.5rem;font-size:.75rem;display:inline-block;text-align:center;color:#0070b2;position:absolute;left:65%;width:max-content;align-items:center}'],changeDetection:0}),o})();var F=s(8077);function st(o,i){if(1&o&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.hij("",e.itemSelected.revisionNumbers," reviews")}}function lt(o,i){if(1&o&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.hij("",e.countReviews()," reviews in total")}}function dt(o,i){if(1&o&&(t.TgZ(0,"div")(1,"p"),t._uU(2),t.qZA(),t.TgZ(3,"div",10),t.YNc(4,st,2,1,"p",8),t.YNc(5,lt,2,1,"p",8),t.qZA()()),2&o){const e=t.oxw();t.xp6(2),t.Oqu(e.donutRatingData.factorName),t.xp6(2),t.Q6J("ngIf",e.itemSelected&&!e.hoverRatingAll),t.xp6(1),t.Q6J("ngIf",e.selectedRatingAll||e.hoverRatingAll)}}function _t(o,i){if(1&o&&(t.O4$(),t.kcU(),t.TgZ(0,"span",15),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit,n=t.oxw();t.MGl("id","",e.text,"-star-label__review"),t.xp6(1),t.hij("",n.getNumberReviews(e.text)," reviews")}}function pt(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"div",11),t.NdJ("mouseenter",function(a){const c=t.CHM(e).$implicit;return t.oxw().onRatingMouseEvent(c.text,a)})("mouseleave",function(a){const c=t.CHM(e).$implicit;return t.oxw().onRatingMouseEvent(c.text,a)})("click",function(a){const c=t.CHM(e).$implicit;return t.oxw().clickInStarRating(c.text),a.stopPropagation()}),t.TgZ(1,"div")(2,"span"),t._uU(3),t.qZA(),t.O4$(),t.TgZ(4,"svg",12),t._UZ(5,"polygon",13),t.qZA()(),t.YNc(6,_t,2,2,"span",14),t.qZA()}if(2&o){const e=i.$implicit,n=i.index,a=t.oxw();t.MGl("id","",e.text,"-star-label"),t.xp6(3),t.Oqu(n+1),t.xp6(3),t.Q6J("ngIf",!a.itemSelected)}}const gt=function(o){return{"background-color":o}};let ut=(()=>{class o{constructor(){this.clickDonutRatingEvent=new t.vpe,this.hoverRatingAll=!1,this.selectedRatingAll=!1,this.selectedStarRating=!1,this.starNumberList=[{text:"one",number:1},{text:"two",number:2},{text:"three",number:3},{text:"four",number:4},{text:"five",number:5}],this.idCustom="",this.data={factorName:"Helpfulness",star:[{name:"one",revisionNumbers:2},{name:"two",revisionNumbers:1},{name:"three",revisionNumbers:0},{name:"four",revisionNumbers:0},{name:"five",revisionNumbers:2}]}}ngOnInit(){this.donutRatingData=this.data,this.idCustom=this.removeSpace(this.donutRatingData.factorName),this.clickInInnerDonut()}removeSpace(e){return e.replace(/\s/g,"")}setStylePieceDonut(e){let n=this.countReviews(),a=this.getNumberReviews(e);return{transform:this.getValueRotationPieceDonut(e,n),stroke:this.getFillColorDonut(e),strokeDasharray:this.getValueStrokeDashArray(a,n)}}getValueStrokeDashArray(e,n){return[565.2*e/n,565.2*(1-e/n)]}getValueRotationPieceDonut(e,n){const a=this.donutRatingData.star.findIndex(c=>c.name===e);let r=-90;if(a>0){const c=this.donutRatingData.star,d=360;for(let _=0;_<a;_++)r+=c[_].revisionNumbers*d/n}return`rotateZ(${r}deg)`}returnNumberInteger(e){return this.starNumberList.find(n=>n.text===e).number}countReviews(){return this.donutRatingData.star.reduce((e,n)=>n.revisionNumbers?e+n.revisionNumbers:e,0)}setItemSelected(e){this.itemSelected="all"!=e?this.donutRatingData.star.find(n=>n.name===e):{name:"all",revisionNumbers:this.countReviews()}}getFillColorDonut(e){switch(e){case"one":return"#6E8CBF";case"two":return"#627CAB";case"three":return"#537399";case"four":return"#496B90";case"five":return"#405F86";default:return""}}getNumberReviews(e){return this.donutRatingData.star.find(n=>n.name===e).revisionNumbers}onRatingMouseEvent(e,n){const r=this.getElementById(`${this.idCustom}-${e}-star`);null!=r&&("mouseenter"===n.type?r.classList.add(`label-${e}-hover`):r.classList.remove(`label-${e}-hover`))}onInnerMouseEvent(e){const a=document.getElementById(`${this.idCustom}-donut-rating-inner`);null!=a&&("mouseenter"===e.type?(a.classList.add("inner-hover"),this.hoverRatingAll=!0):(a.classList.remove("inner-hover"),this.hoverRatingAll=!1))}clickInStarRating(e){const n=`${this.idCustom}-${e}-star`,a=this.checkIfThereIsActivePiece();a!==n&&(a&&(this.removeClassActiveFromListElements(a),this.itemSelected=void 0),this.setClassActiveInStarElement(n),this.removeClassActiveInInnerElement(`${this.idCustom}-donut-rating-inner`),this.setItemSelected(e),this.clickDonutRatingEvent.emit(a!==n?e:void 0))}setClassActiveInStarElement(e){const n=this.getElementById(e);null!=n&&n.classList.add(`${e}--active`)}removeClassActiveFromListElements(e){const n=this.getElementById(e);null!=n&&n.classList.remove(`${e}--active`)}checkIfThereIsActivePiece(){let e;return this.starNumberList.forEach(n=>{const a=`${this.idCustom}-${n.text}-star`;this.getElementById(a).classList.contains(`${a}--active`)&&(e=a)}),e}clickInInnerDonut(){const e=`${this.idCustom}-donut-rating-inner`,a=this.getElementById(e).classList.contains(`${e}--active`);if(a)this.removeClassActiveInInnerElement(e);else{this.setClassActiveInInnerElement(e),this.itemSelected=void 0,this.selectedRatingAll=!0;const r=this.checkIfThereIsActivePiece();r&&this.removeClassActiveFromListElements(r)}this.clickDonutRatingEvent.emit(a?void 0:"all")}removeClassActiveInInnerElement(e){const n=this.getElementById(e);null!=n&&n.classList.remove(`${e}--active`),this.selectedRatingAll=!1}setClassActiveInInnerElement(e){const n=this.getElementById(e);null!=n&&n.classList.add(`${e}--active`)}getElementById(e){return document.getElementById(e)}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["donut-rating"]],inputs:{donutRatingData:"donutRatingData"},outputs:{clickDonutRatingEvent:"clickDonutRatingEvent"},decls:10,vars:11,consts:[[1,"donut-rating"],["xmlns","http://www.w3.org/2000/svg","width","180","height","180","viewBox","0 0 180 180",1,"donut-rating__pieces"],["fill","#6E8CBF","d","M175.59411560889714, 62.18548269103435 A90,90 0 0 1 142.90575578109502,162.80783615265 L125.27050385406335,138.53855743510002 A60,60 0 0 0 147.06274373926476,71.45698846068957 Z",3,"id","click"],["fill","#627CAB","d","M90, 0 A90,90 0 0 1 175.59411560889714,62.18548269103435 L147.06274373926476,71.45698846068957 A60,60 0 0 0 90,30 Z",3,"id","click"],["fill","#537399","d","M4.401031145731494, 62.200422105974894 A90,90 0 0 1 89.98429203681187,0.0000013707783779182137 L89.98952802454124,30.000000913852254 A60,60 0 0 0 32.934020763820996,71.46694807064993 Z",3,"id","click"],["fill","#496B90","d","M37.10695238926231, 162.81706883999271 A90,90 0 0 1 4.401031145731494,62.200422105974894 L32.934020763820996,71.46694807064993 A60,60 0 0 0 54.73796825950821,138.54471255999513 Z",3,"id","click"],["fill","#405F86","d","M142.90575578109502, 162.80783615265 A90,90 0 0 1 37.10695238926231,162.81706883999271 L54.73796825950821,138.54471255999513 A60,60 0 0 0 125.27050385406335,138.53855743510002 Z",3,"id","click"],[3,"id","ngStyle","mouseenter","mouseleave","click"],[4,"ngIf"],["class","donut-rating__score",3,"id","mouseenter","mouseleave","click",4,"ngFor","ngForOf"],[1,"item-selected"],[1,"donut-rating__score",3,"id","mouseenter","mouseleave","click"],["version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 473.486 473.486"],["points","473.486,182.079 310.615,157.952 235.904,11.23 162.628,158.675 0,184.389 117.584,299.641 91.786,462.257\n    237.732,386.042 384.416,460.829 357.032,298.473"],[3,"id",4,"ngIf"],[3,"id"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.O4$(),t.TgZ(1,"svg",1)(2,"path",2),t.NdJ("click",function(r){return n.clickInStarRating("one"),r.stopPropagation()}),t.qZA(),t.TgZ(3,"path",3),t.NdJ("click",function(r){return n.clickInStarRating("two"),r.stopPropagation()}),t.qZA(),t.TgZ(4,"path",4),t.NdJ("click",function(r){return n.clickInStarRating("three"),r.stopPropagation()}),t.qZA(),t.TgZ(5,"path",5),t.NdJ("click",function(r){return n.clickInStarRating("four"),r.stopPropagation()}),t.qZA(),t.TgZ(6,"path",6),t.NdJ("click",function(r){return n.clickInStarRating("five"),r.stopPropagation()}),t.qZA()(),t.kcU(),t.TgZ(7,"div",7),t.NdJ("mouseenter",function(r){return n.onInnerMouseEvent(r)})("mouseleave",function(r){return n.onInnerMouseEvent(r)})("click",function(r){return n.clickInInnerDonut(),r.stopPropagation()}),t.YNc(8,dt,6,3,"div",8),t.qZA(),t.YNc(9,pt,7,3,"div",9),t.qZA()),2&e&&(t.xp6(2),t.MGl("id","",n.idCustom,"-one-star"),t.xp6(1),t.MGl("id","",n.idCustom,"-two-star"),t.xp6(1),t.MGl("id","",n.idCustom,"-three-star"),t.xp6(1),t.MGl("id","",n.idCustom,"-four-star"),t.xp6(1),t.MGl("id","",n.idCustom,"-five-star"),t.xp6(1),t.MGl("id","",n.idCustom,"-donut-rating-inner"),t.Q6J("ngStyle",t.VKq(9,gt,n.itemSelected&&!n.hoverRatingAll?n.getFillColorDonut(n.itemSelected.name):"")),t.xp6(1),t.Q6J("ngIf",n.itemSelected||n.selectedRatingAll||n.hoverRatingAll),t.xp6(1),t.Q6J("ngForOf",n.starNumberList))},directives:[l.PC,l.O5,l.sg],styles:['@keyframes fade-in{0%{opacity:0}to{opacity:1}}.donut-rating[_ngcontent-%COMP%]{position:relative}.donut-rating__pieces[_ngcontent-%COMP%]{transform:rotate(180deg);cursor:pointer}.donut-rating__score[_ngcontent-%COMP%]{position:absolute;color:#f0f0f0;font-size:1rem;line-height:.875rem;display:flex;flex-direction:row;align-items:center;justify-content:center;text-align:center;cursor:pointer}.donut-rating__score[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:.625rem;fill:#fdd835;padding-bottom:.125rem}.donut-rating[_ngcontent-%COMP%]   [id*=donut-rating-inner][_ngcontent-%COMP%]{position:absolute;width:120px;height:120px;background-color:#00000060;left:30px;top:30px;margin:auto;border-radius:50%;color:#f0f0f0;font-size:.75rem;line-height:.75rem;display:flex;justify-content:center;align-items:center;flex-direction:column;text-align:center;font-weight:500}.donut-rating[_ngcontent-%COMP%]   [id*=donut-rating-inner][_ngcontent-%COMP%]   .item-selected[_ngcontent-%COMP%]{font-size:.75rem;line-height:.75rem;text-align:center;cursor:pointer}.donut-rating[_ngcontent-%COMP%]   .inner-hover[_ngcontent-%COMP%], .donut-rating[_ngcontent-%COMP%]   [class*=donut-rating-inner--active][_ngcontent-%COMP%]{cursor:pointer;color:#000;background-color:#f0f0f0;z-index:1}.donut-rating[_ngcontent-%COMP%]   #five-star-label[_ngcontent-%COMP%]{left:80px;top:8px}.donut-rating[_ngcontent-%COMP%]   #five-star-label__review[_ngcontent-%COMP%]{position:absolute;font-size:.625rem;top:28px}.donut-rating[_ngcontent-%COMP%]   #four-star-label[_ngcontent-%COMP%]{left:154px;top:60px}.donut-rating[_ngcontent-%COMP%]   #four-star-label__review[_ngcontent-%COMP%]{position:absolute;left:-46px;top:4px;width:28px;font-size:.625rem}.donut-rating[_ngcontent-%COMP%]   #three-star-label[_ngcontent-%COMP%]{left:130px;top:140px}.donut-rating[_ngcontent-%COMP%]   #three-star-label__review[_ngcontent-%COMP%]{position:absolute;left:-32px;top:-36px;width:28px;font-size:.625rem}.donut-rating[_ngcontent-%COMP%]   #two-star-label[_ngcontent-%COMP%]{left:34px;top:140px}.donut-rating[_ngcontent-%COMP%]   #two-star-label__review[_ngcontent-%COMP%]{position:absolute;left:16px;top:-36px;font-size:.625rem}.donut-rating[_ngcontent-%COMP%]   #one-star-label[_ngcontent-%COMP%]{left:10px;top:60px}.donut-rating[_ngcontent-%COMP%]   #one-star-label__review[_ngcontent-%COMP%]{position:absolute;left:30px;top:4px;font-size:.625rem}.donut-rating[_ngcontent-%COMP%]   #five-star-label[_ngcontent-%COMP%], .donut-rating[_ngcontent-%COMP%]   [id*=five-star][_ngcontent-%COMP%]{animation:fade-in 1s cubic-bezier(.55,.055,.675,.19) both}.donut-rating[_ngcontent-%COMP%]   #five-star-label[_ngcontent-%COMP%]:hover, .donut-rating[_ngcontent-%COMP%]   [id*=five-star][_ngcontent-%COMP%]:hover, .donut-rating[_ngcontent-%COMP%]   .label-five-hover[_ngcontent-%COMP%], .donut-rating[_ngcontent-%COMP%]   [class*=five-star--active][_ngcontent-%COMP%]{d:path("M142.90575578109502, 162.80783615265 A90,90 0 0 1 37.10695238926231,162.81706883999271 L90,90 A0,0 0 0 0 90,90 Z")}.donut-rating[_ngcontent-%COMP%]   #four-star-label[_ngcontent-%COMP%], .donut-rating[_ngcontent-%COMP%]   [id*=four-star][_ngcontent-%COMP%]{animation:fade-in 1s cubic-bezier(.55,.055,.675,.19) 1s both}.donut-rating[_ngcontent-%COMP%]   #four-star-label[_ngcontent-%COMP%]:hover, .donut-rating[_ngcontent-%COMP%]   [id*=four-star][_ngcontent-%COMP%]:hover, .donut-rating[_ngcontent-%COMP%]   .label-four-hover[_ngcontent-%COMP%], .donut-rating[_ngcontent-%COMP%]   [class*=four-star--active][_ngcontent-%COMP%]{d:path("M37.10695238926231, 162.81706883999271 A90,90 0 0 1 4.401031145731494,62.200422105974894 L90,90 A0,0 0 0 0 90,90 Z")}.donut-rating[_ngcontent-%COMP%]   #three-star-label[_ngcontent-%COMP%], .donut-rating[_ngcontent-%COMP%]   [id*=three-star][_ngcontent-%COMP%]{animation:fade-in 1s cubic-bezier(.55,.055,.675,.19) 2s both}.donut-rating[_ngcontent-%COMP%]   #three-star-label[_ngcontent-%COMP%]:hover, .donut-rating[_ngcontent-%COMP%]   [id*=three-star][_ngcontent-%COMP%]:hover, .donut-rating[_ngcontent-%COMP%]   .label-three-hover[_ngcontent-%COMP%], .donut-rating[_ngcontent-%COMP%]   [class*=three-star--active][_ngcontent-%COMP%]{d:path("M4.401031145731494, 62.200422105974894 A90,90 0 0 1 89.98429203681187,0.0000013707783779182137 L90,90 A0,0 0 0 0 90,90 Z")}.donut-rating[_ngcontent-%COMP%]   #two-star-label[_ngcontent-%COMP%], .donut-rating[_ngcontent-%COMP%]   [id*=two-star][_ngcontent-%COMP%]{animation:fade-in 1s cubic-bezier(.55,.055,.675,.19) 3s both}.donut-rating[_ngcontent-%COMP%]   #two-star-label[_ngcontent-%COMP%]:hover, .donut-rating[_ngcontent-%COMP%]   [id*=two-star][_ngcontent-%COMP%]:hover, .donut-rating[_ngcontent-%COMP%]   .label-two-hover[_ngcontent-%COMP%], .donut-rating[_ngcontent-%COMP%]   [class*=two-star--active][_ngcontent-%COMP%]{d:path("M90, 0 A90,90 0 0 1 175.59411560889714,62.18548269103435 L90,90 A0,0 0 0 0 90,90 Z")}.donut-rating[_ngcontent-%COMP%]   #one-star-label[_ngcontent-%COMP%], .donut-rating[_ngcontent-%COMP%]   [id*=one-star][_ngcontent-%COMP%]{animation:fade-in 1s cubic-bezier(.55,.055,.675,.19) 4s both}.donut-rating[_ngcontent-%COMP%]   #one-star-label[_ngcontent-%COMP%]:hover, .donut-rating[_ngcontent-%COMP%]   [id*=one-star][_ngcontent-%COMP%]:hover, .donut-rating[_ngcontent-%COMP%]   .label-one-hover[_ngcontent-%COMP%], .donut-rating[_ngcontent-%COMP%]   [class*=one-star--active][_ngcontent-%COMP%]{d:path("M175.59411560889714, 62.18548269103435 A90,90 0 0 1 142.90575578109502,162.80783615265 L90,90 A0,0 0 0 0 90,90 Z")}.containertest[_ngcontent-%COMP%]{width:240px;height:240px;position:relative;display:flex;justify-content:center;align-items:center}.containertest__score[_ngcontent-%COMP%]{position:absolute;color:#f0f0f0;font-size:1rem;line-height:.875rem;display:flex;flex-direction:row;align-items:center;justify-content:center;text-align:center;cursor:pointer}.containertest__score[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:.625rem;fill:#fdd835;padding-bottom:.125rem}.containertest[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center}.containertest[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]   .donut[_ngcontent-%COMP%]{transform-origin:center center;transition:.5s ease-in-out;stroke-dashoffset:0;cursor:pointer}.containertest[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]   .donut[_ngcontent-%COMP%]:hover{stroke-width:50}'],changeDetection:0}),o})();const mt=["reviewOwner"];let Q=(()=>{class o{constructor(){this.clickReviewOwnerEvent=new t.vpe}clickInReview(e){this.clickReviewOwnerEvent.emit(e)}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["review-owner"]],viewQuery:function(e,n){if(1&e&&t.Gf(mt,5),2&e){let a;t.iGM(a=t.CRH())&&(n.reviewOwnerItem=a.first)}},inputs:{reviewOwnerData:"reviewOwnerData"},outputs:{clickReviewOwnerEvent:"clickReviewOwnerEvent"},decls:6,vars:4,consts:[["scrollTo","",1,"review-owner",3,"children","click"],["reviewOwner",""],[3,"ratingValue"],["alt","Image face owner review","referrerpolicy","no-referrer",3,"src"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0,1),t.NdJ("click",function(){return n.clickInReview(n.reviewOwnerData.id)}),t._UZ(2,"app-star-rating",2)(3,"img",3),t.TgZ(4,"p"),t._uU(5),t.qZA()()),2&e&&(t.Q6J("children",n.reviewOwnerItem),t.xp6(2),t.Q6J("ratingValue",n.reviewOwnerData.score),t.xp6(1),t.Q6J("src",n.reviewOwnerData.userImage,t.LSH),t.xp6(2),t.Oqu(n.reviewOwnerData.userName))},directives:[Z.A,D],styles:[".review-owner[_ngcontent-%COMP%]{text-align:center;width:auto;height:auto}.review-owner[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem;border-radius:100%}.review-owner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.75rem}"],changeDetection:0}),o})();var u=s(7322);function ht(o,i){if(1&o&&(t.TgZ(0,"div",3)(1,"p")(2,"span",4),t._uU(3),t.qZA(),t._UZ(4,"br"),t.TgZ(5,"span",5),t._uU(6),t.qZA(),t._UZ(7,"br"),t.TgZ(8,"span",6),t._uU(9),t.O4$(),t.TgZ(10,"svg",7),t._UZ(11,"polygon",8),t.qZA()()()()),2&o){const e=t.oxw();t.xp6(3),t.Oqu(e.app.title?e.app.title:"Review user"),t.xp6(3),t.Oqu(e.app.genre),t.xp6(3),t.hij("",e.app.scoreText," ")}}const ft=function(o){return{"background-color":o}};let $=(()=>{class o{constructor(){this.appRated="show"}ngOnInit(){}manageRenderAppRatedCard(){this.appRated="show"===this.appRated?"hide":"show"}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-business-card"]],inputs:{app:"app"},decls:3,vars:5,consts:[[1,"app-rated__card",3,"ngStyle","click"],["alt","Icon app review",3,"src"],["class","text",4,"ngIf"],[1,"text"],[1,"title"],[1,"genre"],[1,"score"],["version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 473.486 473.486"],["points","473.486,182.079 310.615,157.952 235.904,11.23 162.628,158.675 0,184.389 117.584,299.641 91.786,462.257 237.732,386.042 384.416,460.829 357.032,298.473"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.NdJ("click",function(){return n.manageRenderAppRatedCard()}),t._UZ(1,"img",1),t.YNc(2,ht,12,3,"div",2),t.qZA()),2&e&&(t.Q6J("ngStyle",t.VKq(3,ft,"show"===n.appRated?"#e0e0e0":"#F5F5F500")),t.xp6(1),t.s9C("src",n.app.icon,t.LSH),t.xp6(1),t.Q6J("ngIf","show"===n.appRated))},directives:[l.PC,l.O5],styles:[".app-rated[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:flex-start}.app-rated__card[_ngcontent-%COMP%]{height:66px;border-radius:.375rem;padding:.5rem;display:flex;flex-direction:row;justify-content:flex-start;align-items:center;cursor:pointer}.app-rated__card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:43px;height:43px;margin-right:.5rem;position:relative}.app-rated__card[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-end;align-items:center;white-space:pre-wrap;line-height:.75rem}.app-rated__card[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:.5rem;fill:#616161;padding-bottom:.125rem}.app-rated__card[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;text-align:initial}.app-rated__card[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:.75rem}.app-rated__card[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .genre[_ngcontent-%COMP%], .app-rated__card[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]{font-size:.625rem}"]}),o})(),Ct=(()=>{class o{constructor(e){this.el=e,this.highlightWords=[],this.processPhrase=n=>{const a=this.removeSpecialCharacters(n);return this.splitIntoWords(a)},this.removeSpecialCharacters=n=>n.replace(/[^a-zA-Z0-9\s]/g,""),this.splitIntoWords=n=>n.split(" ").filter(Boolean)}ngOnChanges(){let e=this.el.nativeElement.innerText;const n=this.highlightWords;let a=e;for(let r=0;r<n.length;r++){let c=n[r];c=c.toLowerCase();let d=-1,_=-1,h=0;for(;-1===d&&c.split(" ").length>1&&h<c.split(" ").length;){const g=this.processPhrase(c);d=this.findWordPhraseIndex(a,g[h]),h++}let v=0;for(;-1===_&&c.split(" ").length>1&&v<c.split(" ").length;){const g=this.processPhrase(c).reverse();_=this.findWordPhraseIndex(a,g[v],d),-1!==_&&(_=_+g[v].length+1),v++}if(-1!==d&&-1!==_){const g=e.slice(0,d),M=e.slice(_);a=g+'<span class="highlight">'+e.slice(d,_)+"</span>"+M,e=a}}this.el.nativeElement.innerHTML=a}findWordPhraseIndex(e,n,a){const r=e.toLowerCase(),c=this.findWordIndex(r,n);if(-1!==c)return c;let d=[];d=a?e.slice(a).split(" "):r.split(" ");const _=d.filter(g=>{const M=g.toLowerCase().split(""),S=n.toLowerCase().split("");return M.some(Be=>S.includes(Be))});let h=null,v=0;for(let g=0;g<_.length;g++){const M=_[g],S=this.calculateWordMatch(M,n);S>v&&(v=S,h=M)}return h?r.indexOf(h):-1}findWordIndex(e,n){const a=this.replaceQuotesWithTempChar(e),r=a.indexOf(n);return n=this.restoreWordFromTempChar(a.slice(r,r+n.length)),-1!==r?r:-1}replaceQuotesWithTempChar(e){return e.replace(/["'\u2018\u2019\u201c\u201d\xab\xbb\u201e\u201c\u201a\u2018\u201b\u201d\u201c\u2018\u201c\u201d\u2018\u201c\u201d\u2018\u201c\u201d\u2018\u201b\u201d\u2018\u2018\u201c\u201d\xab\xbb\u201e\u201c\u201a\u2018\u201b\u201d\u2018\u2018\u2018\u201c\u201d\u2018\u201c\u201d]/g,"\xa7")}restoreWordFromTempChar(e){return e.replace(new RegExp("\xa7","g"),'"')}calculateWordMatch(e,n){let a=0,r=0,c=0;for(;r<e.length&&c<n.length;)e[r]===n[c]?(a++,r++,c++):r++;return a}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.SBq))},o.\u0275dir=t.lG2({type:o,selectors:[["","highlightWords",""]],inputs:{highlightWords:"highlightWords"},features:[t.TTD]}),o})();var vt=s(9772),q=s(7531);const wt=["comment"];function xt(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"div",18)(1,"i",19),t.NdJ("click",function(){return t.CHM(e),t.oxw().closeCard()}),t._uU(2,"close"),t.qZA()()}}function Ot(o,i){if(1&o&&(t.TgZ(0,"h3"),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij("App version: ",e.dataReview.version,"")}}function Mt(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"app-chip",20),t.NdJ("clickedChipActive",function(a){return t.CHM(e),t.oxw().setTextToHighLight(a)})("mouseenterActive",function(){const r=t.CHM(e).$implicit;return t.oxw().enabledHighLight(r.id)})("mouseleaveActive",function(){return t.CHM(e),t.oxw().disabledHighLight()}),t.qZA()}if(2&o){const e=i.$implicit,n=t.oxw();t.Q6J("dataChip",n.getDataChip(e))}}let Y=(()=>{class o{constructor(e){this.renderer=e,this.activeFocus=!1,this.closeEnabled=!1,this.closeCardReview=new t.vpe,this.changeComment=new t.vpe,this.highLightList=[],this.chipFactorSelected={id:void 0,highlighted:[]},this.commentField=new p.NI("",[p.kI.required])}ngOnInit(){this.factorUniques=this.getUniqueReviewFactors(),this.commentField.setValue(this.dataReview.comment?this.dataReview.comment:"")}ngAfterViewInit(){if(this.activeFocus){const e=this.comment.nativeElement;e.blur(),e.focus()}}getDataReviewOwner(){return{id:this.dataReview.id,userName:this.dataReview.userName,userImage:this.dataReview.userImage,score:this.dataReview.score}}getDataChip(e){var n;return{label:`#${e.name}`,id:e.id,styleClassContent:(null===(n=this.chipFactorSelected)||void 0===n?void 0:n.id)===e.id?"active":""}}convertDateStringToDatetime(e){return new Date(e)}closeCard(){this.closeCardReview.emit(!0)}onBlur(){this.changeComment.emit(this.commentField.value)}getUniqueReviewFactors(){const e=this.dataReview.uxMapper.reduce((n,a)=>(n.set(a.factor.id,a.factor.name),n),new Map);return Array.from(e,([n,a])=>({id:n,name:a}))}setTextToHighLight(e){e.id===this.chipFactorSelected.id?(this.chipFactorSelected.id=void 0,this.disabledHighLight()):(this.chipFactorSelected.id=e.id,this.enabledHighLight(e.id),this.chipFactorSelected.highlighted=this.highLightList)}enabledHighLight(e){this.highLightList=this.dataReview.uxMapper.filter(n=>n.factor.id===e).flatMap(n=>n.clean).filter(Boolean)}disabledHighLight(){this.highLightList=this.chipFactorSelected.id?this.chipFactorSelected.highlighted:[]}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.Qsj))},o.\u0275cmp=t.Xpm({type:o,selectors:[["card-review"]],viewQuery:function(e,n){if(1&e&&t.Gf(wt,5),2&e){let a;t.iGM(a=t.CRH())&&(n.comment=a.first)}},inputs:{dataReview:"dataReview",activeFocus:"activeFocus",closeEnabled:"closeEnabled"},outputs:{closeCardReview:"closeCardReview",changeComment:"changeComment"},decls:31,vars:13,consts:[[1,"card-review"],["class","card-review__close",4,"ngIf"],[1,"card-review__header"],[3,"reviewOwnerData"],[1,"headers"],[4,"ngIf"],[1,"material-icons"],["id","icon-app-rated",1,"app-rated"],[3,"app"],[1,"card-review__content"],[1,"text",3,"highlightWords","innerHTML"],[1,"factors"],["matSuffix","","matTooltip","Select a factor to highlight text.","matTooltipPosition","right",1,"material-icons"],[3,"dataChip","clickedChipActive","mouseenterActive","mouseleaveActive",4,"ngFor","ngForOf"],[1,"card-review__footer"],["appearance","outline",1,"comment"],["matInput","","placeholder","Ex. It makes me think about....",3,"formControl","blur"],["comment",""],[1,"card-review__close"],["matSuffix","",1,"material-icons",3,"click"],[3,"dataChip","clickedChipActive","mouseenterActive","mouseleaveActive"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.YNc(1,xt,3,0,"div",1),t.TgZ(2,"header",2),t._UZ(3,"review-owner",3),t.TgZ(4,"div",4)(5,"h2"),t._uU(6),t.ALo(7,"date"),t.qZA(),t.YNc(8,Ot,2,1,"h3",5),t.TgZ(9,"h3")(10,"i",6),t._uU(11,"thumb_up"),t.qZA(),t._uU(12),t.qZA()(),t.TgZ(13,"div",7),t._UZ(14,"app-business-card",8),t.qZA()(),t.TgZ(15,"div",9),t._UZ(16,"p",10),t.TgZ(17,"p",11),t._uU(18," Found factors "),t.TgZ(19,"i",12),t._uU(20,"info"),t.qZA(),t._uU(21,": "),t.YNc(22,Mt,1,1,"app-chip",13),t.qZA()(),t.TgZ(23,"footer",14)(24,"mat-form-field",15)(25,"mat-label"),t._uU(26,"Leave a comment (Optional)"),t.qZA(),t.TgZ(27,"textarea",16,17),t.NdJ("blur",function(){return n.onBlur()}),t.qZA(),t.TgZ(29,"mat-hint"),t._uU(30,"Your comments are automatically saved!"),t.qZA()()()()),2&e&&(t.xp6(1),t.Q6J("ngIf",n.closeEnabled),t.xp6(2),t.Q6J("reviewOwnerData",n.getDataReviewOwner()),t.xp6(3),t.hij(" ",t.xi3(7,10,n.convertDateStringToDatetime(n.dataReview.date),"mediumDate")," "),t.xp6(2),t.Q6J("ngIf",n.dataReview.version),t.xp6(4),t.hij(" ",n.dataReview.thumbsUp," people found this review helpful "),t.xp6(2),t.Q6J("app",n.dataReview.app),t.xp6(2),t.Q6J("highlightWords",n.highLightList)("innerHTML",n.dataReview.text,t.oJD),t.xp6(6),t.Q6J("ngForOf",n.factorUniques),t.xp6(5),t.Q6J("formControl",n.commentField))},directives:[l.O5,u.R9,Q,$,Ct,vt.gM,l.sg,F.Y,u.KE,u.hX,q.Nt,p.Fj,p.JJ,p.oH,u.bx],pipes:[l.uU],styles:[".card-review{display:flex;flex-direction:column;background-color:#fff;border-radius:.375rem;padding:1rem 1.5rem;width:100%;min-height:200px;height:100%;border:1px solid #666;box-shadow:2px 2px 8px #0000004d}.card-review__close{display:flex;justify-content:flex-end}.card-review__close i{justify-content:end;cursor:pointer;transition:1s ease-in-out;font-size:28px}.card-review__close i:hover{transform:rotate(180deg)}.card-review__header{display:flex;flex-direction:row;align-items:center;width:100%}.card-review__header review-owner{position:relative;top:0;margin-right:1rem}.card-review__header .headers{flex:1;display:flex;flex-direction:column;align-items:flex-start;justify-content:center}.card-review__header .headers h1{margin:0;font-size:1.25rem;font-weight:500;text-align:initial}.card-review__header .headers h2{font-size:.875rem;font-weight:400;margin:0;line-height:1.5rem}.card-review__header .headers h3{font-size:.75rem;line-height:1rem;font-weight:400;display:flex;align-items:flex-start;margin:4px 0 0;gap:.25rem}.card-review__header .headers h3 i{color:#616161;font-size:.75rem;margin-top:.125rem}.card-review__content{display:flex;flex-direction:column;font-size:14px;width:100%}.card-review__content .text{margin:1rem 0!important;text-align:justify;word-wrap:break-word}.card-review__content .text span.highlight{background-image:linear-gradient(90deg,#FDD835,#fe9);border-radius:.25rem;color:#000;padding:2px;border-radius:2px;width:auto}.card-review__content .factors{display:flex;flex:1;flex-wrap:wrap;align-items:center;font-weight:500}.card-review__content .factors app-chip:not(last-child){margin:0 .5rem 0 0}.card-review__content .factors chip{cursor:pointer}.card-review__content .factors chip:not(last-child){margin:0 0 .5rem .5rem}.card-review__content .factors .material-icons{font-size:1rem;margin-bottom:2px;color:#0070b2}.card-review__footer .comment{width:100%;font-size:14px}.card-review__footer .mat-form-field-appearance-outline .mat-form-field-outline{color:#000000de}\n"],encapsulation:2}),o})();const bt=["divAppRated"],Pt=["progressbars"];function Tt(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"app-dialog",6),t.NdJ("closeDialogEvent",function(a){return t.CHM(e),t.oxw().closeAboutDialogEvent(a)}),t.TgZ(1,"p"),t._uU(2," Ol\xe1 e seja bem-vindo ao "),t.TgZ(3,"b"),t._uU(4,"UX-RIVIS (User eXperience Reviews Information Visualization)"),t.qZA(),t._uU(5,", uma ferramenta criada para auxiliar na an\xe1lise e visualiza\xe7\xe3o das avalia\xe7\xf5es dadas pelos usu\xe1rios nas lojas de aplicativos. A ferramenta agrupa as avalia\xe7\xf5es por fatores de UX (User eXperience) pr\xe9-definidos e destaca as cinco avalia\xe7\xf5es mais \xfateis do aplicativo para cada um dos fatores. Na visualiza\xe7\xe3o, \xe9 poss\xedvel verificar o n\xfamero total de avalia\xe7\xf5es, a m\xe9dia de estrelas dadas pelos usu\xe1rios (1 a 5 estrelas), o valor total para cada fator de UX e a distribui\xe7\xe3o das avalia\xe7\xf5es por estrelas. Tamb\xe9m \xe9 poss\xedvel visualizar o trecho da avalia\xe7\xe3o do usu\xe1rio, classificado pelo fator de UX, e adicionar coment\xe1rios sobre a interpreta\xe7\xe3o da avalia\xe7\xe3o. A ferramenta apresenta tr\xeas maneiras distintas de visualiza\xe7\xe3o: a visualiza\xe7\xe3o geral com n\xf3s e links, uma tabular e uma por cart\xf5es. Esperamos que aproveite a ferramenta e realize uma boa avalia\xe7\xe3o! "),t.qZA()()}2&o&&t.Q6J("title","Sobre")}const Rt=function(o){return{opacity:o}};function yt(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"app-rated",7,8),t.NdJ("clickedAppRated",function(){return t.CHM(e),t.oxw().showFactors()})("clickInTitle",function(){return t.CHM(e),t.oxw().renderProgressBar()}),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("pulse",!!e.showFactor)("dataApprated",e.appRated)("ngStyle",t.VKq(3,Rt,e.showProgressBar?.1:1))}}function St(o,i){if(1&o&&t._UZ(0,"result-information",14),2&o){const e=t.oxw(2);t.Q6J("resultInformationData",e.getDataToResultInformation())}}const B=function(o,i){return{index:o,idItem:i,parentItem:"divAppRated"}},L=function(o){return{itemId:o,parentItem:"divAppRated"}},At=function(){return{left:"90px"}},z=function(){return{"margin-bottom":"0.5rem",cursor:"pointer"}},It=function(o,i){return{label:o,icon:"speaker_notes",styleClassContent:i}};function Dt(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"section",15)(1,"factor-item",16),t.NdJ("clickedOnFactorEvent",function(a){const c=t.CHM(e).index;return t.oxw(2).getEventClickFactor(a,c)}),t.qZA(),t.TgZ(2,"arrow-result",17)(3,"app-chip",18),t.NdJ("click",function(){const a=t.CHM(e),r=a.$implicit,c=a.index;return t.oxw(2).getEventClickFactor(r,c)}),t.qZA()()()}if(2&o){const e=i.$implicit,n=i.index,a=t.oxw(2);t.xp6(1),t.s9C("id",e.id),t.Q6J("ngStyle",a.setStyleFactor(n))("factorData",e)("styleClassContent",(null==a.chosenFactor?null:a.chosenFactor.id)===e.id?"active":""),t.xp6(1),t.MGl("id","arrow",e.id,""),t.Q6J("ngStyle",a.setStyleToArrow(t.WLB(10,B,n,e.id)))("styleContentResult",a.fixArrowContentRotation(t.VKq(13,L,e.id)))("styleContent",t.DdM(15,At)),t.xp6(1),t.Q6J("ngStyle",t.DdM(16,z))("dataChip",t.WLB(17,It,e.count+" Reviews",(null==a.chosenFactor?null:a.chosenFactor.id)===e.id?"active":""))}}function Zt(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"donut-rating",19,20),t.NdJ("clickDonutRatingEvent",function(a){return t.CHM(e),t.oxw(2).outputClickDonutRating(a)}),t.qZA()}if(2&o){const e=t.oxw(2);t.MGl("id","donut",null==e.chosenFactor?null:e.chosenFactor.id,""),t.Q6J("ngStyle",e.setStyleDonut(null==e.chosenFactor?null:e.chosenFactor.indexFactor))("donutRatingData",e.getReviewsCountByFactorPerStar(e.chosenFactor))}}const Ft=function(){return{left:"90px",width:"240px"}},kt=function(o){return{label:o,icon:"thumb_up"}};function Et(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"div")(1,"review-owner",25),t.NdJ("clickReviewOwnerEvent",function(a){return t.CHM(e),t.oxw(3).outputReviewOwner(a)}),t.qZA(),t.TgZ(2,"arrow-result",26)(3,"app-chip",18),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(3).outputReviewOwner(r.id)}),t.qZA()()()}if(2&o){const e=i.$implicit,n=i.index,a=t.oxw(3);t.xp6(1),t.s9C("id",e.id),t.Q6J("reviewOwnerData",e)("ngStyle",a.setReviewOwnerStyle(n)),t.xp6(1),t.MGl("id","arrow-review-owner-",n,""),t.Q6J("ngStyle",a.setStyleToArrow(t.WLB(9,B,n,e.id)))("styleContentResult",a.fixRevisionOwnerContentArrowRotation(t.VKq(12,L,e.id)))("styleContent",t.DdM(14,Ft)),t.xp6(1),t.Q6J("ngStyle",t.DdM(15,z))("dataChip",t.VKq(16,kt,e.thumbsUp+" Likes"))}}function Ut(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"card-review",27),t.NdJ("changeComment",function(a){t.CHM(e);const r=t.oxw(3);return r.changeCommentReview(r.reviewChosen,a)})("closeCardReview",function(){return t.CHM(e),t.oxw(3).closeCardReview()}),t.qZA()}if(2&o){const e=t.oxw(3);t.Q6J("dataReview",e.reviewChosen)("closeEnabled",!0)("ngStyle",e.setCardReviewStyle())}}function Nt(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"a",28),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).goToShowRevisions()}),t._uU(1,"See all reviews"),t.qZA()}if(2&o){const e=t.oxw(3);t.Q6J("ngStyle",e.setReviewOwnerStyle(e.reviewOwnerListToRender.length-.3))}}function Jt(o,i){if(1&o&&(t.TgZ(0,"section",21),t.YNc(1,Et,4,18,"div",22),t.YNc(2,Ut,1,3,"card-review",23),t.YNc(3,Nt,2,1,"a",24),t.qZA()),2&o){const e=t.oxw(2);t.Q6J("ngStyle",e.setStyleSessionReviewOwnersGroup()),t.xp6(1),t.Q6J("ngForOf",e.reviewOwnerListToRender),t.xp6(1),t.Q6J("ngIf",e.reviewChosen),t.xp6(1),t.Q6J("ngIf",e.reviewOwnerListToRender.length>0)}}function Qt(o,i){if(1&o&&(t.TgZ(0,"div",9),t.YNc(1,St,1,1,"result-information",10),t.YNc(2,Dt,4,20,"section",11),t.YNc(3,Zt,2,3,"donut-rating",12),t.YNc(4,Jt,4,4,"section",13),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.showProgressBar),t.xp6(1),t.Q6J("ngForOf",e.dataReviewsToFactor)("ngForTrackBy",e.trackByFn),t.xp6(1),t.Q6J("ngIf",null==e.chosenFactor?null:e.chosenFactor.id),t.xp6(1),t.Q6J("ngIf",e.starRatingSelected&&(null==e.chosenFactor?null:e.chosenFactor.id))}}class f{constructor(i,e,n,a){this._store=i,this._changeDetectorRefs=e,this._router=n,this._route=a,this.showModalAbout=!1,this.destroy$=new N.x,this.showFactor=!1,this.showProgressBar=!1,this.showDialog=!1,this.dialogSize=J.i.Full,this.starRatingSelected=!1,this.reviewOwnerListToRender=[],this._store.dispatch(new A.x)}ngOnInit(){this._store.dispatch(new I.gm).subscribe(()=>{this.getDataUxMapper(),this.getDataReviews(),this.getDataReviewsToFactor()})}scrollToAnchor(i){const e=document.getElementById(i);e&&e.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}getDataUxMapper(){this.dataUXMapper$.pipe((0,T.R)(this.destroy$),(0,R.b)(i=>{i&&(this.dataUXMapper=i,this.getDataApprated(),this.showModalAbout=!0,setTimeout(()=>{this.scrollToAnchor("divAppRated"),this._store.dispatch(new A.R)}))})).subscribe()}getDataReviews(){this.dataReviews$.pipe((0,T.R)(this.destroy$),(0,R.b)(i=>{i&&(this.dataReviews=i,this._changeDetectorRefs.detectChanges())})).subscribe()}getDataReviewsToFactor(){this.dataReviewsToFactor$.pipe((0,T.R)(this.destroy$),(0,R.b)(i=>{i&&(this.dataReviewsToFactor=i,this._changeDetectorRefs.detectChanges())})).subscribe()}getDataApprated(){this.dataUXMapper&&(this.appRated={appId:this.dataUXMapper.appId,title:this.dataUXMapper.title,icon:this.dataUXMapper.icon,genre:this.dataUXMapper.genre,scoreText:this.dataUXMapper.scoreText})}showFactors(){if(this.showProgressBar)return this.renderProgressBar();this.showFactor=!this.showFactor,this.chosenFactor=void 0}renderProgressBar(){this.showFactor?this.showProgressBar=!this.showProgressBar:this.showFactors()}setStyleFactor(i){const e=this.getFactorRenderingPosition({index:i,numberOfItems:this.dataReviewsToFactor.length,degree:360,radius:524});return e.yPosition<-180?e.yPosition+=40:e.yPosition>180&&(e.yPosition-=40),{top:`${e.yPosition.toString()}px`,left:`${e.xPosition.toString()}px`,animation:`fade-in 0.5s cubic-bezier(0.55, 0.055, 0.675, 0.19) ${.1*i}s both`}}getFactorRenderingPosition(i){const e=i.degree/i.numberOfItems,n=i.radius,a=Math.sin(e*i.index*(Math.PI/180))*n,r=Math.cos(e*i.index*(Math.PI/180))*n;return{yPosition:Math.round(a),xPosition:Math.round(r)}}getElementRotationOffsetPosition(i){const e=document.getElementById(i.elementChild),n=document.getElementById(i.parentItem);let _=Math.atan2(n.offsetTop-e.offsetTop,e.offsetLeft-n.offsetLeft);_=_<0?Math.abs(_):2*Math.PI-_;const h=_*(180/Math.PI);return Math.round(h)}setStyleToArrow(i){return{transform:`rotate(${+this.getElementRotationOffsetPosition({elementChild:i.idItem,parentItem:i.parentItem})}deg)`,animation:`fade-in 0.5s cubic-bezier(0.55, 0.055, 0.675, 0.19) ${.1*i.index}s both`}}fixArrowContentRotation(i){return{transform:`translate(-50%, -50%) rotate(${-1*this.getElementRotationOffsetPosition({elementChild:i.itemId,parentItem:i.parentItem})}deg)`}}fixRevisionOwnerContentArrowRotation(i){return{transform:`translate(-50%, -50%) rotate(${-1*this.getElementRotationOffsetPosition({elementChild:i.itemId,parentItem:i.parentItem})-this.findRotationDonutsReviews()}deg)`}}getDataToResultInformation(){return{score:this.getAverageScore(),numberReviews:this.countNumberReviews()}}getAverageScore(){const i=this.dataReviews.reduce((e,n)=>e+n.score,0)/this.dataReviews.length;return Number(i.toFixed(1))}countNumberReviews(){return this.dataReviews.length.toString()}setStyleDonut(i){const e=this.getFactorRenderingPosition({index:i,numberOfItems:this.dataReviewsToFactor.length,degree:360,radius:700});return e.yPosition<-180?e.yPosition+=70:e.yPosition>0&&(e.yPosition-=70),{top:`${e.yPosition.toString()}px`,left:`${e.xPosition.toString()}px`}}getReviewsCountByFactorPerStar(i){let n=[];return[1,2,3,4,5].forEach(a=>{const r={name:this.getStarTextNumber(a),revisionNumbers:i.reviews.filter(c=>c.score===a).length};n.push(r)}),{factorName:i.name,star:n}}getEventClickFactor(i,e){var n;(null===(n=this.chosenFactor)||void 0===n?void 0:n.id)===i.id?this.chosenFactor=void 0:(this.chosenFactor=Object.assign(Object.assign({},i),{indexFactor:e}),this.outputClickDonutRating("all")),this.starRatingSelected=!1,this._changeDetectorRefs.detectChanges()}outputClickDonutRating(i){if(this.reviewChosen=void 0,"all"!=i){const e=this.getStarNumberText(i);this.getTopFiveReviews(e),this.starRatingSelected=!0}else"all"===i?(this.getTopFiveReviews(),this.starRatingSelected=!0):this.starRatingSelected=!1;this._changeDetectorRefs.detectChanges()}getTopFiveReviews(i){let e=this.dataReviewsToFactor.find(n=>{var a;return n.id===(null===(a=this.chosenFactor)||void 0===a?void 0:a.id)}).reviews;i&&(e=e.filter(n=>n.score===i)),this.reviewOwnerListToRender=[...new Map(e.map(n=>[n.id,n])).values()].slice(0,5)}getStarNumberText(i){switch(i){case"one":return 1;case"two":return 2;case"three":return 3;case"four":return 4;case"five":return 5;default:return 0}}getStarTextNumber(i){switch(i){case 1:return"one";case 2:return"two";case 3:return"three";case 4:return"four";case 5:return"five";default:return"zero"}}setStyleSessionReviewOwnersGroup(){var i;const e=`donut${null===(i=this.chosenFactor)||void 0===i?void 0:i.id}`,n=this.getPositionElementInScreen(e),a=this.findRotationDonutsReviews();return{top:`${n.yPosition.toString()}px`,left:`${n.xPosition.toString()}px`,transform:`translate(-50%, -50%) rotate(${a}deg)`}}findRotationDonutsReviews(){var i;const n=document.getElementById(`arrow${null===(i=this.chosenFactor)||void 0===i?void 0:i.id}`).style.transform;return 270+Number(n.replace(/\D/g,""))}getPositionElementInScreen(i){const e=document.getElementById(i);return{yPosition:e.offsetTop,xPosition:e.offsetLeft}}setReviewOwnerStyle(i){const e=this.getFactorRenderingPosition({index:i,numberOfItems:7,degree:180,radius:400}),n=-this.findRotationDonutsReviews();return{top:`${e.yPosition.toString()}px`,left:`${e.xPosition.toString()}px`,transform:`translate(-50%, -50%) rotate(${n}deg)`,animation:`fade-in 0.8s cubic-bezier(0.55, 0.055, 0.675, 0.19) ${.1*i}s both`}}outputReviewOwner(i){var e;return this.reviewChosen=(null===(e=this.reviewChosen)||void 0===e?void 0:e.id)===i?void 0:this.dataReviews.find(n=>n.id===i)}setCardReviewStyle(){var i;const e=null===(i=this.reviewChosen)||void 0===i?void 0:i.id,n=this.getPositionElementInScreen(e),a=-this.findRotationDonutsReviews();return{top:`${n.yPosition.toString()}px`,left:`${n.xPosition.toString()}px`,transform:`translate(-50%, -50%) rotate(${a}deg)`,animation:"fade-in 0.5s cubic-bezier(0.55, 0.055, 0.675, 0.19) 0.1s both;"}}closeCardReview(){this.reviewChosen=void 0}changeCommentReview(i,e){this._store.dispatch(new I.i5({reviewSelected:i,comment:e}))}trackByFn(i,e){return e.id}closeAboutDialogEvent(i){i&&(this.showModalAbout=!1)}goToShowRevisions(){var i;const e=null===(i=this.chosenFactor)||void 0===i?void 0:i.id;this._router.navigate(["show-revisions",e],{relativeTo:this._route})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}f.\u0275fac=function(i){return new(i||f)(t.Y36(w.yh),t.Y36(t.sBO),t.Y36(b.F0),t.Y36(b.gz))},f.\u0275cmp=t.Xpm({type:f,selectors:[["ng-component"]],viewQuery:function(i,e){if(1&i&&(t.Gf(bt,5),t.Gf(Pt,5)),2&i){let n;t.iGM(n=t.CRH())&&(e.divAppRatedItem=n.first),t.iGM(n=t.CRH())&&(e.progressbars=n.first)}},decls:6,vars:3,consts:[[3,"title","closeDialogEvent",4,"ngIf"],[1,"app-container"],["container",""],[1,"application-rated"],["id","divAppRated",3,"pulse","dataApprated","ngStyle","clickedAppRated","clickInTitle",4,"ngIf"],["class","application-rated__children",4,"ngIf"],[3,"title","closeDialogEvent"],["id","divAppRated",3,"pulse","dataApprated","ngStyle","clickedAppRated","clickInTitle"],["divAppRated",""],[1,"application-rated__children"],[3,"resultInformationData",4,"ngIf"],["class","",4,"ngFor","ngForOf","ngForTrackBy"],["debounceClick","",3,"id","ngStyle","donutRatingData","clickDonutRatingEvent",4,"ngIf"],["class","donuts-reviews",3,"ngStyle",4,"ngIf"],[3,"resultInformationData"],[1,""],[3,"ngStyle","factorData","styleClassContent","id","clickedOnFactorEvent"],[3,"id","ngStyle","styleContentResult","styleContent"],[3,"ngStyle","dataChip","click"],["debounceClick","",3,"id","ngStyle","donutRatingData","clickDonutRatingEvent"],["donut",""],[1,"donuts-reviews",3,"ngStyle"],[4,"ngFor","ngForOf"],[3,"dataReview","closeEnabled","ngStyle","changeComment","closeCardReview",4,"ngIf"],["class","view-more",3,"ngStyle","click",4,"ngIf"],["debounceClick","",3,"reviewOwnerData","id","ngStyle","clickReviewOwnerEvent"],["debounceClick","",3,"id","ngStyle","styleContentResult","styleContent"],[3,"dataReview","closeEnabled","ngStyle","changeComment","closeCardReview"],[1,"view-more",3,"ngStyle","click"]],template:function(i,e){1&i&&(t.YNc(0,Tt,6,1,"app-dialog",0),t.TgZ(1,"div",1,2)(3,"div",3),t.YNc(4,yt,2,5,"app-rated",4),t.YNc(5,Qt,5,5,"div",5),t.qZA()()),2&i&&(t.Q6J("ngIf",e.showModalAbout),t.xp6(4),t.Q6J("ngIf",e.appRated),t.xp6(1),t.Q6J("ngIf",e.showFactor))},directives:[l.O5,J.a,G.V,l.PC,K,l.sg,et,ct,F.Y,ut,Q,Y],styles:[".app-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;position:relative;width:275vw;height:400vh;font-size:1.125rem;background-color:#fafafa;box-shadow:inset 0 2px 2px #00000014}.app-container[_ngcontent-%COMP%]   .application-rated[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:auto}.app-container[_ngcontent-%COMP%]   .application-rated[_ngcontent-%COMP%]   app-rated[_ngcontent-%COMP%]{position:relative;z-index:1}.app-container[_ngcontent-%COMP%]   .application-rated__children[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;position:absolute;top:50%;right:50%;z-index:0}.app-container[_ngcontent-%COMP%]   .application-rated__children[_ngcontent-%COMP%]   result-information[_ngcontent-%COMP%]{position:absolute;transform:translateY(-50%);z-index:1}.app-container[_ngcontent-%COMP%]   .application-rated__children[_ngcontent-%COMP%]   factor-item[_ngcontent-%COMP%], .app-container[_ngcontent-%COMP%]   .application-rated__children[_ngcontent-%COMP%]   donut-rating[_ngcontent-%COMP%]{position:absolute;transform:translate(-50%,-50%)}.app-container[_ngcontent-%COMP%]   .application-rated__children[_ngcontent-%COMP%]   review-owner[_ngcontent-%COMP%]{position:absolute;cursor:pointer;width:6.25rem}.app-container[_ngcontent-%COMP%]   .application-rated__children[_ngcontent-%COMP%]   arrow-result[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%}.app-container[_ngcontent-%COMP%]   .application-rated__children[_ngcontent-%COMP%]   .result-arrow-review[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.app-container[_ngcontent-%COMP%]   .application-rated__children[_ngcontent-%COMP%]   .result-arrow-review[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.875rem;margin-right:.25rem}.app-container[_ngcontent-%COMP%]   .application-rated__children[_ngcontent-%COMP%]   .donuts-reviews[_ngcontent-%COMP%]{position:absolute}.app-container[_ngcontent-%COMP%]   .application-rated__children[_ngcontent-%COMP%]   .donuts-reviews[_ngcontent-%COMP%]   card-review[_ngcontent-%COMP%]{width:35rem;position:absolute;z-index:1;transform-origin:center}.app-container[_ngcontent-%COMP%]   .application-rated__children[_ngcontent-%COMP%]   .donuts-reviews[_ngcontent-%COMP%]   .view-more[_ngcontent-%COMP%]{min-width:7.75rem;height:2.25rem;text-align:center;padding:.5rem;text-decoration:none;position:absolute;font-size:1rem;font-weight:500;letter-spacing:.005em;background-color:transparent;color:#0070b2;cursor:pointer;bottom:0;left:50%;transform:translate(-50%,50%)}.app-container[_ngcontent-%COMP%]   .application-rated__children[_ngcontent-%COMP%]   .donuts-reviews[_ngcontent-%COMP%]   .view-more[_ngcontent-%COMP%]:hover{background-color:#0070b2;color:#f6fafe;border-radius:.5rem}@keyframes fade-in{0%{opacity:0}to{opacity:1}}@keyframes scale-in-center{0%{transform:scale(0);opacity:1}to{transform:scale(1);opacity:1}}"],changeDetection:0}),(0,P.gn)([(0,w.Ph)(y.O.getDataUxMapper)],f.prototype,"dataUXMapper$",void 0),(0,P.gn)([(0,w.Ph)(y.O.getDataReviews)],f.prototype,"dataReviews$",void 0),(0,P.gn)([(0,w.Ph)(y.O.getDataReviewsToFactor)],f.prototype,"dataReviewsToFactor$",void 0);var $t=s(2313),V=s(4107),qt=s(508),k=s(7423),x=s(1777),H=s(6087),E=s(4847),m=s(2075);function Yt(o,i){if(1&o&&(t.TgZ(0,"th",28),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit;t.Q6J("mat-sort-header",e.columnDef)("disabled",e.disableSort),t.xp6(1),t.hij(" ",e.header," ")}}const C=function(o){return{columnValue:o}};function Bt(o,i){if(1&o&&t.GkF(0,33),2&o){const e=t.oxw().$implicit;t.oxw(3);const n=t.MAs(18);t.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",t.VKq(2,C,e))}}function Lt(o,i){if(1&o&&t.GkF(0,33),2&o){const e=t.oxw().$implicit,n=t.oxw().$implicit;t.oxw(2);const a=t.MAs(20);t.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",t.VKq(2,C,n.cell(e)))}}function zt(o,i){if(1&o&&t.GkF(0,33),2&o){const e=t.oxw().$implicit,n=t.oxw().$implicit;t.oxw(2);const a=t.MAs(22);t.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",t.VKq(2,C,n.cell(e)))}}function Vt(o,i){if(1&o&&t.GkF(0,33),2&o){const e=t.oxw().$implicit;t.oxw(3);const n=t.MAs(24);t.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",t.VKq(2,C,e))}}function Ht(o,i){if(1&o&&t.GkF(0,33),2&o){const e=t.oxw().$implicit,n=t.oxw().$implicit;t.oxw(2);const a=t.MAs(26);t.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",t.VKq(2,C,n.cell(e)))}}function jt(o,i){if(1&o&&t.GkF(0,33),2&o){const e=t.oxw().$implicit,n=t.oxw().$implicit;t.oxw(2);const a=t.MAs(28);t.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",t.VKq(2,C,n.cell(e)))}}function Xt(o,i){if(1&o&&t.GkF(0,33),2&o){const e=t.oxw().$implicit,n=t.oxw().$implicit;t.oxw(2);const a=t.MAs(30);t.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",t.VKq(2,C,n.cell(e)))}}function Gt(o,i){if(1&o&&t.GkF(0,33),2&o){const e=t.oxw().$implicit,n=t.oxw().$implicit;t.oxw(2);const a=t.MAs(16);t.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",t.VKq(2,C,n.cell(e)))}}function Wt(o,i){if(1&o&&(t.TgZ(0,"td",29),t.ynx(1,30),t.YNc(2,Bt,1,4,"ng-container",31),t.YNc(3,Lt,1,4,"ng-container",31),t.YNc(4,zt,1,4,"ng-container",31),t.YNc(5,Vt,1,4,"ng-container",31),t.YNc(6,Ht,1,4,"ng-container",31),t.YNc(7,jt,1,4,"ng-container",31),t.YNc(8,Xt,1,4,"ng-container",31),t.YNc(9,Gt,1,4,"ng-container",32),t.BQk(),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngSwitch",e.columnDef),t.xp6(1),t.Q6J("ngSwitchCase","userName"),t.xp6(1),t.Q6J("ngSwitchCase","scoreText"),t.xp6(1),t.Q6J("ngSwitchCase","thumbsUp"),t.xp6(1),t.Q6J("ngSwitchCase","uxMapper"),t.xp6(1),t.Q6J("ngSwitchCase","factors"),t.xp6(1),t.Q6J("ngSwitchCase","content_processed"),t.xp6(1),t.Q6J("ngSwitchCase","text")}}function Kt(o,i){1&o&&(t.ynx(0,26),t.YNc(1,Yt,2,3,"th",27),t.YNc(2,Wt,10,8,"td",21),t.BQk()),2&o&&t.Q6J("matColumnDef",i.$implicit.columnDef)}function te(o,i){1&o&&(t.TgZ(0,"th",34),t._uU(1,"\xa0"),t.qZA())}function ee(o,i){1&o&&(t.TgZ(0,"i",37),t._uU(1,"keyboard_arrow_down"),t.qZA())}function ne(o,i){1&o&&(t.TgZ(0,"i",37),t._uU(1,"keyboard_arrow_up"),t.qZA())}function oe(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"td",29)(1,"button",35),t.NdJ("click",function(a){const c=t.CHM(e).$implicit,d=t.oxw(2);return d.expandedElement=d.expandedElement===c?null:c,a.stopPropagation()}),t.YNc(2,ee,2,0,"i",36),t.YNc(3,ne,2,0,"i",36),t.qZA()()}if(2&o){const e=i.$implicit,n=t.oxw(2);t.xp6(2),t.Q6J("ngIf",n.expandedElement!==e),t.xp6(1),t.Q6J("ngIf",n.expandedElement===e)}}function ie(o,i){if(1&o&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA()()),2&o){const e=i.$implicit;t.xp6(2),t.Oqu(e.factor.name),t.xp6(2),t.Oqu(e.content_processed)}}function ae(o,i){if(1&o&&(t.TgZ(0,"td",29)(1,"div",38)(2,"div",39)(3,"div",40),t._UZ(4,"app-business-card",41),t.TgZ(5,"p")(6,"strong"),t._uU(7,"App version:"),t.qZA(),t._uU(8),t.qZA()(),t.TgZ(9,"div",42)(10,"mat-form-field",43)(11,"mat-label"),t._uU(12,"Leave a comment (Optional)"),t.qZA(),t._UZ(13,"textarea",44,45),t.TgZ(15,"mat-hint"),t._uU(16,"Your comments are automatically saved!"),t.qZA()()(),t.TgZ(17,"div",46)(18,"table",47)(19,"thead")(20,"tr")(21,"th"),t._uU(22,"Factor Name"),t.qZA(),t.TgZ(23,"th"),t._uU(24,"Processed message content"),t.qZA()()(),t.TgZ(25,"tbody"),t.YNc(26,ie,5,2,"tr",48),t.qZA()()()()()()),2&o){const e=i.$implicit,n=t.oxw(2);t.uIk("colspan",n.columnsToDisplayWithExpand.length),t.xp6(2),t.Q6J("@detailExpand",e==n.expandedElement?"expanded":"collapsed"),t.xp6(2),t.Q6J("app",e.app),t.xp6(4),t.hij(" ",e.version,""),t.xp6(18),t.Q6J("ngForOf",e.uxMapper)}}function re(o,i){1&o&&t._UZ(0,"tr",49)}function ce(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"tr",50),t.NdJ("click",function(){const r=t.CHM(e).$implicit,c=t.oxw(2);return c.expandedElement=c.expandedElement===r?null:r}),t.qZA()}if(2&o){const e=i.$implicit,n=t.oxw(2);t.ekj("expanded-row",n.expandedElement===e)}}function se(o,i){1&o&&t._UZ(0,"tr",51)}const le=function(){return["expandedDetail"]};function de(o,i){if(1&o&&(t.TgZ(0,"table",17),t.YNc(1,Kt,3,1,"ng-container",18),t.ynx(2,19),t.YNc(3,te,2,0,"th",20),t.YNc(4,oe,4,2,"td",21),t.BQk(),t.ynx(5,22),t.YNc(6,ae,27,5,"td",21),t.BQk(),t.YNc(7,re,1,0,"tr",23),t.YNc(8,ce,1,2,"tr",24),t.YNc(9,se,1,0,"tr",25),t.qZA()),2&o){const e=t.oxw();t.Q6J("dataSource",e.dataSource),t.xp6(1),t.Q6J("ngForOf",e.columns),t.xp6(6),t.Q6J("matHeaderRowDef",e.columnsToDisplayWithExpand)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",e.columnsToDisplayWithExpand),t.xp6(1),t.Q6J("matRowDefColumns",t.DdM(6,le))}}function _e(o,i){1&o&&t._uU(0),2&o&&t.hij(" ",i.columnValue," ")}function pe(o,i){if(1&o&&(t._UZ(0,"img",52),t._uU(1)),2&o){const e=i.columnValue;t.Q6J("src",e.userImage,t.LSH),t.xp6(1),t.hij(" ",e.userName," ")}}function ge(o,i){if(1&o&&(t.TgZ(0,"span",53),t._uU(1),t._UZ(2,"app-star-rating",54),t.qZA()),2&o){const e=i.columnValue;t.xp6(1),t.hij("",e," "),t.xp6(1),t.Q6J("ratingValue",e)("isCurveStyle",!1)}}function ue(o,i){1&o&&(t._uU(0),t.TgZ(1,"i",37),t._uU(2,"thumb_up"),t.qZA()),2&o&&t.hij(" ",i.columnValue," ")}function me(o,i){if(1&o&&(t.ynx(0),t.TgZ(1,"div"),t._uU(2),t.qZA(),t.TgZ(3,"div"),t._uU(4),t.qZA(),t.TgZ(5,"div"),t._uU(6),t.qZA(),t.TgZ(7,"div"),t._uU(8),t.qZA(),t.BQk()),2&o){const e=i.$implicit;t.xp6(2),t.hij(" Factor ID: ",e.factor.id," "),t.xp6(2),t.hij(" Factor Name: ",e.factor.name," "),t.xp6(2),t.hij(" Clean: ",e.clean," "),t.xp6(2),t.hij(" Content Processed: ",e.content_processed," ")}}function he(o,i){1&o&&t.YNc(0,me,9,4,"ng-container",48),2&o&&t.Q6J("ngForOf",i.columnValue.uxMapper)}function fe(o,i){1&o&&(t.ynx(0),t._UZ(1,"hr"),t.BQk())}function Ce(o,i){if(1&o&&(t.ynx(0),t.TgZ(1,"p"),t._uU(2),t.YNc(3,fe,2,0,"ng-container",55),t.qZA(),t.BQk()),2&o){const e=i.$implicit,n=i.last;t.xp6(2),t.hij(" ",e," "),t.xp6(1),t.Q6J("ngIf",!n)}}function ve(o,i){1&o&&t.YNc(0,Ce,4,2,"ng-container",48),2&o&&t.Q6J("ngForOf",i.columnValue)}function we(o,i){1&o&&(t.ynx(0),t._UZ(1,"hr"),t.BQk())}function xe(o,i){if(1&o&&(t.ynx(0),t.TgZ(1,"p"),t._uU(2),t.YNc(3,we,2,0,"ng-container",55),t.qZA(),t.BQk()),2&o){const e=i.$implicit,n=i.last;t.xp6(2),t.hij(" ",e," "),t.xp6(1),t.Q6J("ngIf",!n)}}function Oe(o,i){1&o&&t.YNc(0,xe,4,2,"ng-container",48),2&o&&t.Q6J("ngForOf",i.columnValue)}function Me(o,i){if(1&o&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&o){const e=i.columnValue;t.xp6(1),t.hij("",e," ")}}const be=function(){return{overflow:"auto"}},Pe=function(){return[25,50,100,250,500]},Te=["*"];let Re=(()=>{class o{constructor(){this.dataSource=new m.by([]),this.columns=[{columnDef:"userName",header:"User Name",cell:e=>`${e.userName}`},{columnDef:"date",header:"Date",cell:e=>`${e.date}`},{columnDef:"scoreText",header:"Stars",cell:e=>`${e.scoreText}`},{columnDef:"thumbsUp",header:"Likes",cell:e=>`${e.thumbsUp}`},{columnDef:"factors",header:"Factors",cell:e=>e.uxMapper.map(n=>n.factor.name),sortProperty:"factors",disableSort:!0},{columnDef:"text",header:"Text Review",cell:e=>`${e.text}`,disableSort:!0}],this.displayedColumns=this.columns.map(e=>e.columnDef),this.columnsToDisplayWithExpand=[...this.displayedColumns,"expand"]}ngAfterViewInit(){this.dataSource=new m.by(this.dataReviews),this.dataSource.sort=this.sort,this.sort.active="thumbsUp",this.sort.direction="desc",this.sort.sortChange.emit(),this.dataSource.paginator=this.paginator}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase()}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-table"]],viewQuery:function(e,n){if(1&e&&(t.Gf(E.YE,5),t.Gf(H.NW,5)),2&e){let a;t.iGM(a=t.CRH())&&(n.sort=a.first),t.iGM(a=t.CRH())&&(n.paginator=a.first)}},inputs:{dataReviews:"dataReviews",resultInformationData:"resultInformationData"},ngContentSelectors:Te,decls:31,vars:6,consts:[[1,"card-table"],[1,"card-table__header"],["appearance","outline"],["matInput","","placeholder","Ex. Good app",3,"keyup"],["input",""],["matSuffix","",1,"material-icons"],["tabindex","0",1,"mat-elevation-z8","card-table__content",3,"ngStyle"],["mat-table","","matSort","","matSortDisableClear","","matSortDirection","desc","multiTemplateDataRows","",3,"dataSource",4,"ngIf"],["aria-label","Select page of reviews",3,"pageSizeOptions"],["cellDefault",""],["cellWithImg",""],["cellWithScore",""],["cellWithThumbsUp",""],["cellWithUxMapper",""],["cellWithFactor",""],["cellWithContentProcessed",""],["cellTextReview",""],["mat-table","","matSort","","matSortDisableClear","","matSortDirection","desc","multiTemplateDataRows","",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["matColumnDef","expand"],["mat-header-cell","","aria-label","row actions",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","expandedDetail"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","","class","element-detail-row",3,"expanded-row","click",4,"matRowDef","matRowDefColumns"],["mat-row","","class","expanded-row",4,"matRowDef","matRowDefColumns"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",3,"mat-sort-header","disabled",4,"matHeaderCellDef"],["mat-header-cell","","mat-sort-header","",3,"mat-sort-header","disabled"],["mat-cell",""],[3,"ngSwitch"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngSwitchCase"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngSwitchDefault"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["mat-header-cell","","aria-label","row actions"],["mat-icon-button","","aria-label","expand row",3,"click"],["class","material-icons",4,"ngIf"],[1,"material-icons"],[1,"element-detail-container"],[1,"element-detail"],[1,"app-details"],[3,"app"],[1,"comment-container"],["appearance","outline",1,"comment"],["matInput","","placeholder","Ex. It makes me think about...."],["comment",""],[1,"table-container",2,"width","50%"],[1,"table"],[4,"ngFor","ngForOf"],["mat-header-row",""],["mat-row","",1,"element-detail-row",3,"click"],["mat-row","",1,"expanded-row"],["alt","Image face owner review","referrerpolicy","no-referrer",3,"src"],[1,"score"],[3,"ratingValue","isCurveStyle"],[4,"ngIf"]],template:function(e,n){1&e&&(t.F$t(),t.TgZ(0,"div",0)(1,"div",1),t.Hsn(2),t.TgZ(3,"mat-form-field",2)(4,"mat-label"),t._uU(5,"Search review content"),t.qZA(),t.TgZ(6,"input",3,4),t.NdJ("keyup",function(r){return n.applyFilter(r)}),t.qZA(),t.TgZ(8,"i",5),t._uU(9,"search"),t.qZA()()(),t.TgZ(10,"h2"),t._uU(11),t.qZA(),t.TgZ(12,"section",6),t.YNc(13,de,10,7,"table",7),t.qZA(),t._UZ(14,"mat-paginator",8),t.YNc(15,_e,1,1,"ng-template",null,9,t.W1O),t.YNc(17,pe,2,2,"ng-template",null,10,t.W1O),t.YNc(19,ge,3,3,"ng-template",null,11,t.W1O),t.YNc(21,ue,3,1,"ng-template",null,12,t.W1O),t.YNc(23,he,1,1,"ng-template",null,13,t.W1O),t.YNc(25,ve,1,1,"ng-template",null,14,t.W1O),t.YNc(27,Oe,1,1,"ng-template",null,15,t.W1O),t.YNc(29,Me,2,1,"ng-template",null,16,t.W1O),t.qZA()),2&e&&(t.xp6(11),t.hij("Reviews (",n.dataReviews.length," results)"),t.xp6(1),t.Q6J("ngStyle",t.DdM(4,be)),t.xp6(1),t.Q6J("ngIf",n.dataSource),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(5,Pe)))},directives:[u.KE,u.hX,q.Nt,u.R9,l.PC,l.O5,m.BZ,E.YE,l.sg,m.w1,m.fO,m.ge,E.nU,m.Dz,m.ev,l.RF,l.n9,l.tP,l.ED,k.lW,$,u.bx,m.as,m.XQ,m.nj,m.Gk,H.NW,D],styles:[".card-table__header[_ngcontent-%COMP%]{display:flex;gap:16px;align-items:center;flex-direction:row}.card-table__header[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:34%}.card-table__content[_ngcontent-%COMP%]{overflow:auto;height:60vh;width:100%}.card-table__content[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .card-table__content[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{cursor:pointer}.card-table__content[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .card-table__content[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem;border-radius:100%;margin-right:8px}.card-table__content[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%], .card-table__content[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]{display:flex;align-items:center}.card-table__content[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]   app-star-rating[_ngcontent-%COMP%], .card-table__content[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]   app-star-rating[_ngcontent-%COMP%]{padding-bottom:4px}.card-table__content[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .card-table__content[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#616161;font-size:1rem;margin-top:.25rem}.card-table__content[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-left:12px}.card-table__content[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{margin-top:12px}.card-table__content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]{table-layout:auto;white-space:normal;width:100%;border:solid 1px #d6d6d6}.card-table__content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   mat-header-cell[_ngcontent-%COMP%], .card-table__content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   mat-cell[_ngcontent-%COMP%]{padding:.75rem 1rem!important;justify-content:center}.card-table__content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-column[_ngcontent-%COMP%]{border:1px solid currentColor}.card-table__content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-column-userName[_ngcontent-%COMP%]{width:20%}.card-table__content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-column-date[_ngcontent-%COMP%], .card-table__content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-column-review-app-title[_ngcontent-%COMP%]{width:12%}.card-table__content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-column-scoreText[_ngcontent-%COMP%]{width:10%}.card-table__content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-column-thumbsUp[_ngcontent-%COMP%]{width:5%}.card-table__content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-column-factors[_ngcontent-%COMP%]{width:10%}.card-table__content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-column-expanded[_ngcontent-%COMP%]{width:5%}.card-table__content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]{height:auto}.card-table__content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-row-text[_ngcontent-%COMP%]{text-align:justify}.card-table__content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{background-color:#e0e0e0}.card-table__content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{color:gray;font-size:14px;font-weight:700}.card-table__content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   mat-header-row[_ngcontent-%COMP%]{background-color:#d6d6d6}.card-table__content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   mat-header-row[_ngcontent-%COMP%]   mat-header-cell[_ngcontent-%COMP%]{font-weight:500;font-size:1rem;line-height:1.375rem;color:gray}.card-table__content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:nth-child(4n-1), .card-table__content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:nth-child(4n){background:#f6f6f6;border-color:#d6d6d6}.card-table__content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .element-detail-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:0}.card-table__content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .element-detail-container[_ngcontent-%COMP%]{width:100%;justify-content:flex-start;align-items:center;gap:10px;margin-bottom:1rem}.card-table__content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .element-detail[_ngcontent-%COMP%]{overflow:hidden;display:flex;flex-direction:row;align-items:flex-start;gap:16px}.card-table__content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .app-details[_ngcontent-%COMP%]{width:20%}.card-table__content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .app-details[_ngcontent-%COMP%]   app-business-card[_ngcontent-%COMP%]{margin-bottom:1rem}.card-table__content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .comment-container[_ngcontent-%COMP%]{width:50%}.card-table__content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .comment-container[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.card-table__content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]{width:100%}.card-table__content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{flex-basis:60%;box-sizing:border-box;border-collapse:collapse;max-width:800px;margin:0 auto;text-align:left}.card-table__content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .card-table__content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px;border:1px solid #ddd;text-align:justify}.card-table__content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:gray;color:#fff;font-weight:700}.card-table__content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#f2f2f2}.card-table__content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#ddd}.card-table__content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]{flex-basis:40%;box-sizing:border-box}.mat-mdc-row[_ngcontent-%COMP%]   .mat-mdc-cell[_ngcontent-%COMP%]{border-bottom:1px solid transparent;border-top:1px solid transparent;cursor:pointer}.mat-mdc-row[_ngcontent-%COMP%]:hover   .mat-mdc-cell[_ngcontent-%COMP%]{border-color:red}"],data:{animation:[(0,x.X$)("detailExpand",[(0,x.SB)("collapsed",(0,x.oB)({height:"0px",minHeight:"0"})),(0,x.SB)("expanded",(0,x.oB)({height:"*"})),(0,x.eR)("expanded <=> collapsed",(0,x.jt)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}}),o})();const ye=["allSelected"];function Se(o,i){if(1&o&&(t.TgZ(0,"span",20),t._uU(1),t.qZA()),2&o){const e=t.oxw(4);t.xp6(1),t.AsE(" (+",((null==e.form.factors.value?null:e.form.factors.value.length)||0)-1," ",2===(null==e.form.factors.value?null:e.form.factors.value.length)?"other":"others",") ")}}function Ae(o,i){if(1&o&&(t.TgZ(0,"mat-select-trigger"),t._uU(1),t.YNc(2,Se,2,2,"span",19),t.qZA()),2&o){const e=t.oxw(3);let n,a;t.xp6(1),t.hij(" ",(null==(n=e.formGroup.get("factors"))||null==n.value||null==n.value[0]?null:n.value[0].name)||""," "),t.xp6(1),t.Q6J("ngIf",((null==(a=e.formGroup.get("factors"))||null==a.value?null:a.value.length)||0)>1)}}function Ie(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"mat-option",21),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).togglePerOne()}),t._uU(1),t.qZA()}if(2&o){const e=i.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e.name," ")}}function De(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"You must choose a value"),t.qZA())}function Ze(o,i){if(1&o&&(t.TgZ(0,"mat-form-field",4)(1,"mat-label"),t._uU(2,"Factor"),t.qZA(),t.TgZ(3,"mat-select",16),t.YNc(4,Ae,3,2,"mat-select-trigger",17),t._UZ(5,"hr"),t.YNc(6,Ie,2,2,"mat-option",18),t.qZA(),t.YNc(7,De,2,0,"mat-error",17),t.qZA()),2&o){const e=t.oxw(2);let n,a;t.xp6(3),t.Q6J("compareWith",e.compareFn),t.xp6(1),t.Q6J("ngIf",null==(n=e.formGroup.get("factors"))?null:n.value),t.xp6(2),t.Q6J("ngForOf",e.dataReviewsToFactor),t.xp6(1),t.Q6J("ngIf",null==(a=e.formGroup.get("factors"))||null==a.value?null:a.value.invalid)}}function Fe(o,i){1&o&&t.GkF(0)}function ke(o,i){1&o&&t._UZ(0,"card-review",30),2&o&&t.Q6J("dataReview",i.$implicit)}function Ee(o,i){if(1&o&&(t.TgZ(0,"div",25)(1,"div",26)(2,"h3"),t._uU(3),t.qZA(),t._UZ(4,"app-chip",27),t.qZA(),t.TgZ(5,"div",28),t.YNc(6,ke,1,1,"card-review",29),t.qZA()()),2&o){const e=i.$implicit,n=t.oxw(3);t.xp6(3),t.hij("Factor: ",e.name,""),t.xp6(1),t.Q6J("dataChip",n.getDataChip(e)),t.xp6(2),t.Q6J("ngForOf",e.reviews)}}function Ue(o,i){if(1&o&&(t.TgZ(0,"div",22)(1,"section",23),t.YNc(2,Ee,7,3,"div",24),t.qZA()()),2&o){const e=t.oxw(2);let n;t.xp6(2),t.Q6J("ngForOf",null==(n=e.formGroup.get("factors"))?null:n.value)}}function Ne(o,i){if(1&o&&t._UZ(0,"app-table",32),2&o){const e=t.oxw(3);t.Q6J("dataReviews",e.dataReviews)("resultInformationData",e.getDataToResultInformation())}}function Je(o,i){if(1&o&&t.YNc(0,Ne,1,2,"app-table",31),2&o){const e=t.oxw(2);t.Q6J("ngIf",e.dataReviews)}}function Qe(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"div",1)(1,"form",2)(2,"h3")(3,"i",3),t._uU(4,"filter_alt"),t.qZA(),t._uU(5,"Filters"),t.qZA(),t.TgZ(6,"mat-form-field",4)(7,"mat-label"),t._uU(8,"Show"),t.qZA(),t.TgZ(9,"mat-select",5),t.NdJ("change",function(a){return t.CHM(e),t.oxw().selectTypeView(a)}),t.TgZ(10,"mat-option",6),t._uU(11,"Show in cards"),t.qZA(),t.TgZ(12,"mat-option",7),t._uU(13,"Show in table"),t.qZA()()(),t.YNc(14,Ze,8,4,"mat-form-field",8),t.TgZ(15,"a",9),t._uU(16," Download JSON "),t.TgZ(17,"i",10),t._uU(18,"download"),t.qZA()(),t.TgZ(19,"button",11),t.NdJ("click",function(){return t.CHM(e),t.oxw().goBackDashBoard()}),t._uU(20," Back to dashboard "),t.qZA()(),t.YNc(21,Fe,1,0,"ng-container",12),t.YNc(22,Ue,3,1,"ng-template",null,13,t.W1O),t.YNc(24,Je,1,1,"ng-template",14,15,t.W1O),t.qZA()}if(2&o){const e=t.MAs(23),n=t.MAs(25),a=t.oxw();let r,c;t.xp6(1),t.Q6J("formGroup",a.formGroup),t.xp6(13),t.Q6J("ngIf","card"===(null==(r=a.formGroup.get("typeView"))?null:r.value)),t.xp6(1),t.Q6J("href",a.downloadJsonHref,t.LSH),t.xp6(6),t.Q6J("ngIf",(null==(c=a.formGroup.get("factors"))?null:c.value)&&"table"===(null==(c=a.formGroup.get("typeView"))?null:c.value))("ngIfThen",n)("ngIfElse",e)}}class O{constructor(i,e,n,a,r,c){this._formBuilder=i,this._sanitizer=e,this._route=n,this._store=a,this._location=r,this._changeDetectorRefs=c,this.dataReviewsToFactor=[],this.destroy$=new N.x,this._store.dispatch(new A.x)}ngOnInit(){this.generateDownloadJsonUri(),this._store.dispatch(new I.gm).subscribe(()=>{this.getFactorSelectInRoute(),this.getDataReviews(),this.getDataReviewsToFactor()})}getDataReviewsToFactor(){this.dataReviewsToFactor$.pipe((0,T.R)(this.destroy$),(0,R.b)(i=>{i&&(this.dataReviewsToFactor=i,this.loadFormForSelectedFactor(),this._changeDetectorRefs.detectChanges())})).subscribe()}loadFormForSelectedFactor(){const i=this.dataReviewsToFactor.find(e=>e.id===this.factorSelected);this.buildFormGroup(i)}buildFormGroup(i){this.formGroup=this._formBuilder.group({factors:[[i],[p.kI.required]],typeView:["card",[p.kI.required]]})}getFactorSelectInRoute(){this._route.params.subscribe(i=>{this.factorSelected=i.factorSelected})}getDataReviews(){this.dataReviews$.pipe((0,T.R)(this.destroy$),(0,R.b)(i=>{i&&(this.dataReviews=i,this._changeDetectorRefs.detectChanges())})).subscribe()}selectTypeView(i){this.form.typeView.patchValue(i.target.value)}generateDownloadJsonUri(){var i=JSON.stringify(this.dataReviews),e=this._sanitizer.bypassSecurityTrustUrl("data:text/json;charset=UTF-8,"+encodeURIComponent(i));this.downloadJsonHref=e}toggleAllSelection(){this.form.factors.patchValue(this.allSelected.nativeElement.checked?[...this.dataReviewsToFactor.map(i=>i)]:[])}togglePerOne(){this.allSelected.nativeElement.checked=this.form.factors.value.length==this.dataReviewsToFactor.length}changeValueCheckboxAll(){this.allSelected.nativeElement.checked=!1===this.allSelected.nativeElement.checked,this.toggleAllSelection()}getDataChip(i){return{label:`${i.reviews.length} review(s)`,icon:"speaker_notes"}}get form(){return this.formGroup.controls}get statusAllSelected(){var i;return!!(null===(i=this.allSelected)||void 0===i?void 0:i.nativeElement.checked)&&this.allSelected.nativeElement.checked}getDataToResultInformation(){return{score:this.getAverageScore(),numberReviews:this.countNumberReviews()}}getAverageScore(){const i=this.dataReviews.reduce((e,n)=>e+n.score,0)/this.dataReviews.length;return Number(i.toFixed(1))}countNumberReviews(){return this.dataReviews.length.toString()}compareFn(i,e){return i&&e?i.id===e.id:i===e}goBackDashBoard(){this._location.back()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}O.\u0275fac=function(i){return new(i||O)(t.Y36(p.qu),t.Y36($t.H7),t.Y36(b.gz),t.Y36(w.yh),t.Y36(l.Ye),t.Y36(t.sBO))},O.\u0275cmp=t.Xpm({type:O,selectors:[["show-revisions-in-columns"]],viewQuery:function(i,e){if(1&i&&t.Gf(ye,5),2&i){let n;t.iGM(n=t.CRH())&&(e.allSelected=n.first)}},decls:1,vars:1,consts:[["class","reviews-in-columns",4,"ngIf"],[1,"reviews-in-columns"],[1,"filters",3,"formGroup"],[1,"material-icons"],["appearance","outline"],["matNativeControl","","formControlName","typeView",3,"change"],["value","card"],["value","table"],["appearance","outline",4,"ngIf"],["mat-flat-button","","color","secondary","title","Download JSON","download","download.json",3,"href"],["matSuffix","",1,"material-icons"],["mat-flat-button","","color","primary",3,"click"],[4,"ngIf","ngIfThen","ngIfElse"],["cardTemplate",""],["class","table"],["tabelTemplate",""],["formControlName","factors","multiple","",3,"compareWith"],[4,"ngIf"],[3,"value","click",4,"ngFor","ngForOf"],["class","additional-selection",4,"ngIf"],[1,"additional-selection"],[3,"value","click"],[1,"scroll-container"],[1,"content"],["class","colluns",4,"ngFor","ngForOf"],[1,"colluns"],[1,"colluns__header"],[3,"dataChip"],[1,"colluns__card"],[3,"dataReview",4,"ngFor","ngForOf"],[3,"dataReview"],[3,"dataReviews","resultInformationData",4,"ngIf"],[3,"dataReviews","resultInformationData"]],template:function(i,e){if(1&i&&t.YNc(0,Qe,26,6,"div",0),2&i){let n;t.Q6J("ngIf",e.formGroup&&(null==(n=e.formGroup.get("typeView"))?null:n.value))}},directives:[l.O5,p._Y,p.JL,p.sg,u.KE,u.hX,V.gD,p.JJ,p.u,qt.ey,V.$L,l.sg,u.TO,k.zs,u.R9,k.lW,F.Y,Y,Re],styles:[".reviews-in-columns[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:1rem;height:100%}.reviews-in-columns[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]{position:fixed;width:-webkit-fill-available;background-color:#fff;z-index:10;padding:.5rem;box-shadow:0 2px 5px #0000001a;display:flex;align-items:baseline;gap:1rem;margin:1rem}.reviews-in-columns[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{display:flex;align-items:center;margin:0}.reviews-in-columns[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.25rem}.reviews-in-columns[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]   .additional-selection[_ngcontent-%COMP%]{opacity:.75}.reviews-in-columns[_ngcontent-%COMP%]   .scroll-container[_ngcontent-%COMP%]{position:absolute;top:124px;margin:1rem}.reviews-in-columns[_ngcontent-%COMP%]   .scroll-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;overflow-x:auto;overflow-y:hidden}.reviews-in-columns[_ngcontent-%COMP%]   .scroll-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .colluns[_ngcontent-%COMP%]{min-width:520px;border:solid 1px black;overflow:auto;max-height:calc(100vh - 172px)}.reviews-in-columns[_ngcontent-%COMP%]   .scroll-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .colluns[_ngcontent-%COMP%]:last-child{border-right:solid 1px black}.reviews-in-columns[_ngcontent-%COMP%]   .scroll-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .colluns__header[_ngcontent-%COMP%]{display:flex;flex-direction:row;position:sticky;top:0;background-color:#e0e0e0;z-index:1;padding:16px}.reviews-in-columns[_ngcontent-%COMP%]   .scroll-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .colluns__header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{flex:1;margin:0;font-weight:400}.reviews-in-columns[_ngcontent-%COMP%]   .scroll-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .colluns__card[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;gap:1rem;margin:1rem}.reviews-in-columns[_ngcontent-%COMP%]   .scroll-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .colluns__card[_ngcontent-%COMP%]   card-review[_ngcontent-%COMP%]{flex:1;min-width:460px}hr[_ngcontent-%COMP%]{margin:0 0 1rem}#select-all[_ngcontent-%COMP%]{cursor:pointer;line-height:3em;height:3em;accent-color:#3f51b5;padding:0 16px;text-align:left;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center}#select-all[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0,0,.2,.1),background-color 90ms cubic-bezier(0,0,.2,.1);margin-right:8px}#select-all[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}#select-all[_ngcontent-%COMP%]   label.active[_ngcontent-%COMP%]{color:#3f51b5}#select-all[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.04)}app-table[_ngcontent-%COMP%]{position:absolute;top:124px;margin:1rem}table[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid black}"],changeDetection:0}),(0,P.gn)([(0,w.Ph)(y.O.getDataReviewsToFactor)],O.prototype,"dataReviewsToFactor$",void 0),(0,P.gn)([(0,w.Ph)(y.O.getDataReviews)],O.prototype,"dataReviews$",void 0);const $e=[{path:"",component:f},{path:"show-revisions/:factorSelected",component:O}];let qe=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[b.Bz.forChild($e)],b.Bz]}),o})(),Ye=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[l.ez,p.u5,p.UX,j.m,X.A,qe]]}),o})()}}]);